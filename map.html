<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>몽골 여행 — 지도 보기</title>

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- MarkerCluster -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css">
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

  <!-- Swiper -->
  <link rel="stylesheet" href="https://unpkg.com/swiper@11/swiper-bundle.min.css">
  <script src="https://unpkg.com/swiper@11/swiper-bundle.min.js"></script>

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    :root { --brand:#1e3932; --border:#e5e5e5; --bg:#fafafa; }
    * { box-sizing: border-box; }
    html, body { height:100%; }
    body { margin:0; font-family:'Noto Sans KR', sans-serif; background:var(--bg); color:#222; }

    /* 고정 헤더 */
    header {
      position: sticky; top:0; z-index:1000;
      background:#fff; border-bottom:1px solid var(--border);
    }
    .head-inner {
      max-width:1200px; margin:0 auto; padding:14px 16px;
      display:flex; align-items:center; justify-content:center;
      gap:10px;
    }
    .title { font-weight:800; font-size:20px; color:var(--brand); }
    .home {
      position:absolute; left:16px; top:50%; transform:translateY(-50%);
      text-decoration:none; font-weight:700; font-size:14px;
      background:#f3f3f3; color:#333; padding:8px 12px; border-radius:18px;
    }

    /* 본문 레이아웃: 좌측 지도 / 우측 사진 목록 */
    .wrap {
      height: calc(100vh - 60px); /* 헤더 높이 제외 */
      display:flex; gap:0; /* 경계 붙이기 */
    }
    #map {
      flex: 1 1 auto;   /* 왼쪽: 유연하게 */
      width: 70%;
      height: 100%;
    }
    aside {
      width: 30%;
      max-width: 520px;
      min-width: 320px;
      height: 100%;
      background:#fff;
      border-left:1px solid var(--border);
      overflow:auto;
    }
    .side-inner { padding:12px; }
    .side-title { font-weight:800; margin:6px 0 12px; color:#2c3e50; }
    .photo-list { display:flex; flex-direction:column; gap:10px; }

    .photo-item {
      display:flex; align-items:center; gap:10px;
      padding:8px; border:1px solid var(--border); border-radius:10px;
      cursor:pointer; transition:transform .08s ease, box-shadow .12s ease;
      background:#fff;
    }
    .photo-item:hover { transform: translateY(-1px); box-shadow:0 4px 10px rgba(0,0,0,.06); }
    .thumb {
      width:84px; height:60px; object-fit:cover; object-position:center; border-radius:6px; flex:none;
      background:#ddd;
    }
    .meta { display:flex; flex-direction:column; min-width:0; }
    .meta .name { font-weight:700; font-size:14px; color:#2c3e50; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .meta .date { font-size:12px; color:#777; }

    /* 슬라이드쇼 모달 */
    #slideshow-modal {
      display:none; position:fixed; inset:0; z-index:9999;
      background:rgba(0,0,0,.35); align-items:center; justify-content:center;
    }
    .modal-inner {
      position:relative; width:33vw; max-width:760px; min-width:420px; height:60vh;
      background:rgba(0,0,0,.85); border-radius:12px; overflow:hidden; box-shadow:0 10px 30px rgba(0,0,0,.25);
    }
    #close-slideshow { position:absolute; right:12px; top:12px; z-index:10; font-size:14px; background:#fff; border:none; border-radius:8px; padding:6px 10px; cursor:pointer; }
    .swiper { width:100%; height:100%; }
    .swiper-slide { display:flex; flex-direction:column; justify-content:center; align-items:center; color:#fff; }
    .swiper-slide img { max-width:100%; max-height:80%; object-fit:contain; }
    .swiper-slide p { margin:8px 0 0; font-size:13px; color:#ddd; }

    @media (max-width: 1024px) {
      #map { width: 60%; }
      aside { width: 40%; }
    }
    @media (max-width: 768px) {
      .wrap { flex-direction:column; height:auto; }
      #map { width:100%; height: 60vh; }
      aside { width:100%; height: 40vh; }
      .modal-inner{ width:90vw; height:70vh; min-width:auto; }
    }
  </style>
</head>
<body>
  <header>
    <div class="head-inner">
      <a class="home" href="index.html">← 앨범 홈</a>
      <div class="title">몽골 여행 — 지도 보기</div>
    </div>
  </header>

  <div class="wrap">
    <div id="map"></div>

    <aside>
      <div class="side-inner">
        <div class="side-title">해당 사진 목록</div>
        <div id="photo-list" class="photo-list"></div>
      </div>
    </aside>
  </div>

  <!-- 슬라이드쇼 모달 -->
  <div id="slideshow-modal">
    <div class="modal-inner">
      <button id="close-slideshow">닫기</button>
      <div class="swiper">
        <div class="swiper-wrapper"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-pagination"></div>
      </div>
    </div>
  </div>

  <!-- 데이터(먼저) -->
  <script src="js/photos.js"></script>
  <!-- 앱 스크립트 -->
  <script src="js/app.js"></script>
</body>
</html>
